<!DOCTYPE html>
<html lang="en" class="dark">
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Demo of cmd-dialog</title>
	<meta name="description" content="Demo page of cmd-dialog, a command dialog component for web applications."/>
	<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
	<style type="text/tailwindcss">
		@import "tailwindcss";
		@custom-variant dark (&:where(.dark, .dark *));
	</style>
	<script type="module" src="src/cmd-dialog.ts"></script>
</head>
<body class="dark:text-blue-50 dark:bg-[radial-gradient(circle,rgb(15,23,42),rgb(2,6,23))]">
<main class="flex h-screen items-center justify-center">

	<cmd-dialog
		placeholder="Search for actions"
		hotkey="$mod+k|$mod+j"
		showCloseButton="true"
		note="<a href=https://github.com/OzzyCzech/cmd-dialog>cmd-dialog demo</a>"
	></cmd-dialog>

	<article class="flex flex-col text-center items-center justify-center gap-6 p-4">

		<p class="text-5xl lg:text-6xl xl:text-8xl font-semibold leading-relaxed">
			Press
			<kbd class="inline-flex items-center shadow bg-gray-600 rounded-xl py-2 px-6 leading-none">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-command-icon lucide-command size-12 lg:size-14 xl:size-20">
					<path d="M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"/>
				</svg>
				+K
		</kbd>
			or
			<kbd class="inline-flex items-center shadow bg-gray-600 rounded-xl py-2 px-4 leading-none">Ctrl+K</kbd>
		</p>

		<div>
			<p class="text-2xl text-gray-300">
				Demo page of <code>cmd-dialog</code> a command <strong class="font-semibold">dialog component</strong> for web applications.
			</p>
		</div>

		<p class="flex flex-wrap items-center justify-center gap-1.5">
			<a href="https://www.npmjs.com/package/cmd-dialog" target="_blank"><img src="https://img.shields.io/npm/dm/cmd-dialog?style=for-the-badge" alt="Downloads" class="rounded"></a>
			<a href="https://www.npmjs.com/package/cmd-dialog" target="_blank"><img src="https://img.shields.io/npm/v/cmd-dialog?style=for-the-badge" alt="Version" class="rounded"></a>
			<a href="https://github.com/OzzyCzech/cmd-dialog/blob/main/LICENSE" target="_blank"><img src="https://img.shields.io/npm/l/cmd-dialog?style=for-the-badge" alt="License" class="rounded"></a>
			<a href="https://github.com/OzzyCzech/cmd-dialog/commit/main" target="_blank"><img src="https://img.shields.io/github/last-commit/OzzyCzech/cmd-dialog?style=for-the-badge" alt="Last commit" class="rounded"></a>
			<a href="https://github.com/OzzyCzech/cmd-dialog/actions" target="_blank"><img src="https://img.shields.io/github/actions/workflow/status/OzzyCzech/cmd-dialog/main.yml?style=for-the-badge" alt="Workflow status" class="rounded"></a>
		</p>

		<p class="flex flex-wrap items-center justify-center gap-3">
			<button type="button" class="py-3 px-6 bg-gray-700 hover:bg-gray-800 rounded-full hover:text-current hover:no-underline inline-flex gap-2 items-center cursor-pointer" onclick="document.querySelector('cmd-dialog').open()">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-captions-icon lucide-captions size-5"><rect width="18" height="14" x="3" y="5" rx="2" ry="2"/><path d="M7 15h4M15 15h2M7 11h2M13 11h4"/></svg>
				Open dialog
			</button>
			<a href="https://github.com/OzzyCzech/cmd-dialog/tree/main/docs" target="_blank" class="py-3 px-6 bg-gray-700 hover:bg-gray-800 rounded-full hover:text-current hover:no-underline inline-flex gap-2 items-center">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-captions-icon lucide-captions size-5"><rect width="18" height="14" x="3" y="5" rx="2" ry="2"/><path d="M7 15h4M15 15h2M7 11h2M13 11h4"/></svg>
				Documentation
			</a>
			<a href="https://github.com/OzzyCzech/cmd-dialog/" target="_blank" class="py-3 px-6 bg-gray-700 hover:bg-gray-800 rounded-full hover:text-current hover:no-underline inline-flex gap-2 items-center">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github size-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
				GitHub
			</a>
		</p>
	</article>

	<script type="module">
    const dialog = document.querySelector('cmd-dialog');
    import actions from './fuse.json';

    // add event listener
    dialog.addEventListener('open', () => {
      console.log('Dialog opened');
    });

    dialog.addEventListener('close', () => {
      console.log('Dialog closed');
    });

    // listen to action events
    dialog.addEventListener('action', (event) => {
      if (
        dialog.isOpen &&
        event.detail.parentEvent instanceof KeyboardEvent &&
        event.detail.parentEvent.key !== 'Enter'
      ) {
        //event.preventDefault(); // do nothing
      }
    });

    // add custom actions
    actions.unshift(
      {
        title: 'Homepage',
        img: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house-icon lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>',
        description: 'Go to homepage',
        hotkey: '$mod+h',
        onAction(event) {
          window.location.href = '/';
          event.preventDefault();
        },
      },
      {
        title: 'GitHub',
        img: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>`,
        hotkey: '$mod+g',
        description: 'Check source code of cmd-dialog on GitHub',
        onAction(event) {
          window.open('https://github.com/OzzyCzech/cmd-dialog', '_blank');
          event.preventDefault();
        },
      },
      {
        title: 'Email author',
        hotkey: '$mod+e',
        description: 'Send an email to roman@ozana.cz',
        img: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-at-sign-icon lucide-at-sign"><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"/></svg>`,
        tags: ['email'],
        onAction(event) {
          window.location.href = 'mailto:roman@ozana.cz';
          event.preventDefault()
        },
      },
    );

    // action that is triggered outside the dialog
    actions.push({
        title: 'Outside action',
        hotkey: 'x',
        description: 'Do something only outside the dialog',
        onAction() {
          if (dialog.isOpen) {
            console.log('Dialog is open: do nothing...');
          } else {
            alert('Dialog is closed: open it with âŒ˜+K');
          }
        },
      },
      {
        title: 'The "A" action',
        hotkey: 'a',
        description: 'Do something',
        onAction(event) {
          if (!/TEXTAREA|INPUT|CMD-DIALOG/.test(event.target.tagName)) {
            console.log('You activate the "A" action');
          }
        },
      },
      {
        title: 'The "A" action',
        hotkey: 'd i a l o g',
        description: 'Do something',
        onAction(event) {
          if (!/TEXTAREA|INPUT|CMD-DIALOG/.test(event.target.tagName)) {
            console.log('You activate the "A" action');
          }
        },
      }
    );

    dialog.actions = actions;

    if (window.location.hostname === 'localhost') {
	    //dialog.open(); // for dev purposes
		}
	</script>
</main>
</body>
</html>
